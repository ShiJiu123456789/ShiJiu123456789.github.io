# 检测猪

## 标签标注工具
**X-AnyLabeling**

**下载链接：**

https://github.com/CVHub520/X-AnyLabeling/releases

## 提取帧
    # 如果保存帧的文件夹地址不存在，则创建一个文件夹，然后再提取帧
    mkdir "D:\LL\Pig_datasets\内自铁佛一线保育舍\20250512_055446" 2>nul || ver >nul & ffmpeg -i "D:\LL\Pig_datasets\内自铁佛一线保育舍\20250512_055446.mp4" -vf "fps=fps=5/60" -qscale:v 2 "D:\LL\Pig_datasets\内自铁佛一线保育舍\20250512_055446\frame_%04d.jpg"

## yolo数据集构建
![yolo_dataset_structure.png](yolo_dataset_structure.png)

其中images/val中的内容为猪的图片

![pic_in_val_of_pig.png](pic_in_val_of_pig.png)

labels/val中的内容为猪的标签
![label_in_val_of_pig.png](label_in_val_of_pig.png)


## 检测模型yolov5
**下载链接：**

https://github.com/CVHub520/X-AnyLabeling/releases

创建配置文件:pig.yaml

    path: /home/zengz/zz/ll/Pig/dataset_pig/total_yolo
    train: #
    val: images/val #验证集路径
    test:
    
    #classes
    names:
      0: pig #类别为猪
      1: person #类别为猪

对于模型验证，修改val.py中的parse_opt()，设置为你的pig.yaml和预训练模型地址pig03.pt

    parser.add_argument("--data", type=str, default="/home/zengz/zz/ll/Pig/yolov5/data/pig.yaml", help="dataset.yaml path")
    parser.add_argument("--weights", nargs="+", type=str, default="/home/zengz/zz/ll/Pig/share/pig03.pt", help="model path(s)")

## 学习链接
YOLOv5训练自己的数据集(超详细) ：

https://mp.weixin.qq.com/s?__biz=MzU0NjgzMDIxMQ==&mid=2247629119&idx=3&sn=3e7d4013702435b83b61e2d5139efd5f&chksm=fa8e9410afe5f6302b254ea3a74bfda4b0267256d90dc38dbbbe1ec90e2720bf863c74c9c704&scene=27

